<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 5.2.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script><script class="next-config" data-name="main" type="application/json">{"hostname":"github.com","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.11.1","exturl":false,"sidebar":{"position":"right","display":"post","padding":200,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":true,"preload":true}}</script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.11.1/config.min.js"></script><meta name="description" content="环境 背景 传统本地安装方式 优点 缺点   Docker容器化部署方式 优点 缺点   为什么选择Docker部署   实现 MySQL MySQL-5.7 MySQL-8.0   Redis Elasticsearch Nginx   参考    环境OS： Windows10MySQL： 5.7.41、8.0Redis: 5.0.14Elasticsearch： 8.8.0 背景在现代"><meta property="og:type" content="article"><meta property="og:title" content="Docker本地部署MySQL、Redis、Nginx基础服务"><meta property="og:url" content="https://github.com/vanishke/hexo/Docker/blogs/Docker%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2MySQL%E3%80%81Redis%E3%80%81Nginx%E5%9F%BA%E7%A1%80%E6%9C%8D%E5%8A%A1/index.html"><meta property="og:site_name" content="vanishke随笔"><meta property="og:description" content="环境 背景 传统本地安装方式 优点 缺点   Docker容器化部署方式 优点 缺点   为什么选择Docker部署   实现 MySQL MySQL-5.7 MySQL-8.0   Redis Elasticsearch Nginx   参考    环境OS： Windows10MySQL： 5.7.41、8.0Redis: 5.0.14Elasticsearch： 8.8.0 背景在现代"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2025-12-29T09:52:08.000Z"><meta property="article:modified_time" content="2025-12-29T09:52:08.000Z"><meta property="article:author" content="vanishke"><meta property="article:tag" content="MySQL"><meta property="article:tag" content="Nginx"><meta property="article:tag" content="Redis"><meta property="article:tag" content="Elasticsearch"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://github.com/vanishke/hexo/Docker/blogs/Docker%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2MySQL%E3%80%81Redis%E3%80%81Nginx%E5%9F%BA%E7%A1%80%E6%9C%8D%E5%8A%A1/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://github.com/vanishke/hexo/Docker/blogs/Docker%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2MySQL%E3%80%81Redis%E3%80%81Nginx%E5%9F%BA%E7%A1%80%E6%9C%8D%E5%8A%A1/","path":"Docker/blogs/Docker本地部署MySQL、Redis、Nginx基础服务/","title":"Docker本地部署MySQL、Redis、Nginx基础服务"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Docker本地部署MySQL、Redis、Nginx基础服务 | vanishke随笔</title><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">vanishke随笔</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">善始者实繁，克终者盖寡</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">105</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">59</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">238</span></a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">1.</span> <span class="nav-text">环境</span></a></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">2.</span> <span class="nav-text">背景</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-number">2.1.</span> <span class="nav-text">传统本地安装方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">2.1.1.</span> <span class="nav-text">优点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">2.1.2.</span> <span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-number">2.2.</span> <span class="nav-text">Docker容器化部署方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">2.2.1.</span> <span class="nav-text">优点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">2.2.2.</span> <span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-number">2.3.</span> <span class="nav-text">为什么选择Docker部署</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">3.</span> <span class="nav-text">实现</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-number">3.1.</span> <span class="nav-text">MySQL</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">3.1.1.</span> <span class="nav-text">MySQL-5.7</span></a></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">3.1.2.</span> <span class="nav-text">MySQL-8.0</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-number">3.2.</span> <span class="nav-text">Redis</span></a></li><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-number">3.3.</span> <span class="nav-text">Elasticsearch</span></a></li><li class="nav-item nav-level-2"><a class="nav-link"><span class="nav-number">3.4.</span> <span class="nav-text">Nginx</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-number">4.</span> <span class="nav-text">参考</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="vanishke" src="/images/avatar.png"><p class="site-author-name" itemprop="name">vanishke</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">238</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">59</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">105</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author site-overview-item animated"><span class="links-of-author-item"><a href="https://github.com/vanishke" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;vanishke"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:18685129726@163.com" title="E-Mail → mailto:18685129726@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a></span></div><div class="cc-license site-overview-item animated" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div><div class="links-of-recent-posts motion-element"><div class="links-of-recent-posts-title"><i class="fa fa-history fa-fw"></i> 最近文章</div><ul class="links-of-recent-posts-list"><li class="links-of-recent-posts-item"><a href="/Docker/blogs/Portainer%20CE%E5%8F%AF%E8%A7%86%E5%8C%96Docker%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/" title="Docker&#x2F;blogs&#x2F;Portainer CE可视化Docker容器管理使用指南&#x2F;">Portainer CE可视化Docker容器管理使用指南</a></li><li class="links-of-recent-posts-item"><a href="/Docker/blogs/Docker%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2MySQL%E3%80%81Redis%E3%80%81Nginx%E5%9F%BA%E7%A1%80%E6%9C%8D%E5%8A%A1/" title="Docker&#x2F;blogs&#x2F;Docker本地部署MySQL、Redis、Nginx基础服务&#x2F;">Docker本地部署MySQL、Redis、Nginx基础服务</a></li><li class="links-of-recent-posts-item"><a href="/markdown/blogs/markdown%E8%BD%AC%E6%8D%A2%E4%B8%BAword%E5%AE%9E%E7%8E%B0/" title="markdown&#x2F;blogs&#x2F;markdown转换为word实现&#x2F;">markdown转换为word实现</a></li><li class="links-of-recent-posts-item"><a href="/SpringCloud/blogs/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%90%AF%E5%8A%A8%E5%8A%A0%E8%BD%BD%E8%80%97%E6%97%B6%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90/" title="SpringCloud&#x2F;blogs&#x2F;微服务启动加载耗时问题分析&#x2F;">微服务启动加载耗时问题分析</a></li><li class="links-of-recent-posts-item"><a href="/Docker/blogs/Docker%E9%83%A8%E7%BD%B2%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%BD%91%E5%85%B3cpu%E5%8D%A0%E7%94%A8%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/" title="Docker&#x2F;blogs&#x2F;Docker部署微服务网关cpu占用问题排查&#x2F;">Docker部署微服务网关cpu占用问题排查</a></li></ul></div></div></div><div class="back-to-top animated" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div class="sidebar-dimmer"></div></header><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a> <a href="https://github.com/vanishke" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://github.com/vanishke/hexo/Docker/blogs/Docker%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2MySQL%E3%80%81Redis%E3%80%81Nginx%E5%9F%BA%E7%A1%80%E6%9C%8D%E5%8A%A1/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.png"><meta itemprop="name" content="vanishke"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="vanishke随笔"><meta itemprop="description" content=""></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Docker本地部署MySQL、Redis、Nginx基础服务 | vanishke随笔"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Docker本地部署MySQL、Redis、Nginx基础服务</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2025-12-29 17:52:08" itemprop="dateCreated datePublished" datetime="2025-12-29T17:52:08+08:00">2025-12-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Docker/" itemprop="url" rel="index"><span itemprop="name">Docker</span></a> </span></span><span class="post-meta-break"></span> <span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>16k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>14 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><ul><li><a href="#span-idinline-blue%E7%8E%AF%E5%A2%83span"><span id="inline-blue">环境</span></a></li><li><a href="#span-idinline-blue%E8%83%8C%E6%99%AFspan"><span id="inline-blue">背景</span></a><ul><li><a href="#span-idinline-blue%E4%BC%A0%E7%BB%9F%E6%9C%AC%E5%9C%B0%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8Fspan"><span id="inline-blue">传统本地安装方式</span></a><ul><li><a href="#%E4%BC%98%E7%82%B9">优点</a></li><li><a href="#%E7%BC%BA%E7%82%B9">缺点</a></li></ul></li><li><a href="#span-idinline-bluedocker%E5%AE%B9%E5%99%A8%E5%8C%96%E9%83%A8%E7%BD%B2%E6%96%B9%E5%BC%8Fspan"><span id="inline-blue">Docker容器化部署方式</span></a><ul><li><a href="#%E4%BC%98%E7%82%B9-1">优点</a></li><li><a href="#%E7%BC%BA%E7%82%B9-1">缺点</a></li></ul></li><li><a href="#span-idinline-blue%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9docker%E9%83%A8%E7%BD%B2span"><span id="inline-blue">为什么选择Docker部署</span></a></li></ul></li><li><a href="#span-idinline-blue%E5%AE%9E%E7%8E%B0span"><span id="inline-blue">实现</span></a><ul><li><a href="#span-idinline-bluemysqlspan"><span id="inline-blue">MySQL</span></a><ul><li><a href="#span-idinline-bluemysql-57span"><span id="inline-blue">MySQL-5.7</span></a></li><li><a href="#span-idinline-bluemysql-80span"><span id="inline-blue">MySQL-8.0</span></a></li></ul></li><li><a href="#span-idinline-blueredisspan"><span id="inline-blue">Redis</span></a></li><li><a href="#span-idinline-blueelasticsearchspan"><span id="inline-blue">Elasticsearch</span></a></li><li><a href="#span-idinline-bluenginxspan"><span id="inline-blue">Nginx</span></a></li></ul></li><li><a href="#span-idinline-blue%E5%8F%82%E8%80%83span"><span id="inline-blue">参考</span></a></li></ul><h1><span id="环境"><span id="inline-blue">环境</span></span></h1><p>OS： Windows10<br>MySQL： 5.7.41、8.0<br>Redis: 5.0.14<br>Elasticsearch： 8.8.0</p><h1><span id="背景"><span id="inline-blue">背景</span></span></h1><p>在现代软件开发中，本地开发环境往往需要部署多种基础服务，如MySQL、Redis、Elasticsearch、Nginx等。选择合适的部署方式对于提升开发效率和维护成本至关重要。下面我们将对比传统本地安装方式和Docker容器化部署方式的优缺点。</p><h2><span id="传统本地安装方式"><span id="inline-blue">传统本地安装方式</span></span></h2><h3><span id="优点">优点</span></h3><ul><li><strong>性能优势</strong>：直接运行在宿主机上，没有容器虚拟化层的性能开销</li><li><strong>资源占用</strong>：无需额外的容器运行时环境，资源占用相对较小</li><li><strong>系统集成</strong>：可以更好地与操作系统集成，便于系统级监控和管理</li></ul><h3><span id="缺点">缺点</span></h3><ul><li><strong>安装复杂</strong>：需要下载安装包、配置环境变量、修改系统配置等，步骤繁琐</li><li><strong>版本管理困难</strong>：不同版本之间切换需要卸载重装，无法同时运行多个版本</li><li><strong>环境污染</strong>：安装过程中会在系统目录留下大量文件，卸载时容易产生残留</li><li><strong>配置分散</strong>：配置文件、数据文件、日志文件分散在系统各处，管理不便</li><li><strong>跨平台差异</strong>：Windows、Linux、macOS上的安装和配置方式差异较大</li><li><strong>团队协作困难</strong>：不同开发者的环境配置可能不一致，导致”在我机器上能跑”的问题</li><li><strong>清理困难</strong>：卸载服务后，注册表、配置文件、日志等残留文件难以彻底清理</li></ul><h2><span id="docker容器化部署方式"><span id="inline-blue">Docker容器化部署方式</span></span></h2><h3><span id="优点">优点</span></h3><ul><li><strong>快速部署</strong>：一条命令即可启动服务，无需复杂的安装配置过程，几分钟内完成环境搭建</li><li><strong>环境隔离</strong>：每个服务运行在独立的容器中，互不干扰，避免版本冲突和依赖问题</li><li><strong>版本灵活</strong>：可以同时运行多个版本的服务（如MySQL 5.7和8.0），通过端口映射轻松区分</li><li><strong>易于管理</strong>：可以轻松启动、停止、删除容器，一键清理，不会在系统中留下残留文件</li><li><strong>配置集中</strong>：通过数据卷挂载，配置文件、数据、日志统一管理，结构清晰</li><li><strong>跨平台一致性</strong>：Docker镜像在不同操作系统上表现一致，减少环境差异带来的问题</li><li><strong>团队协作</strong>：使用相同的镜像和配置，确保团队成员环境一致，避免环境问题</li><li><strong>数据持久化</strong>：通过数据卷挂载，确保数据安全可靠，容器删除不影响数据</li><li><strong>资源可控</strong>：可以限制容器的CPU、内存使用，更好地管理系统资源</li></ul><h3><span id="缺点">缺点</span></h3><ul><li><strong>性能开销</strong>：存在容器虚拟化层的性能开销，但对于开发环境影响可忽略不计</li><li><strong>学习成本</strong>：需要学习Docker的基本概念和命令，有一定的学习曲线</li><li><strong>资源占用</strong>：需要运行Docker守护进程，占用一定的系统资源</li><li><strong>网络配置</strong>：容器网络配置相对复杂，需要理解端口映射、网络模式等概念</li></ul><h2><span id="为什么选择docker部署"><span id="inline-blue">为什么选择Docker部署</span></span></h2><p>综合对比两种方式，<strong>对于本地开发环境，Docker容器化部署方式具有明显优势</strong>：</p><ol><li><p><strong>开发效率优先</strong>：开发环境更注重快速搭建和灵活切换，而非极致性能。Docker的一条命令部署相比传统方式的繁琐安装，能显著提升开发效率。</p></li><li><p><strong>多版本共存需求</strong>：在实际开发中，经常需要同时测试不同版本的服务（如MySQL 5.7和8.0），Docker可以轻松实现，而传统方式几乎不可能。</p></li><li><p><strong>环境一致性保障</strong>：团队协作中，Docker确保所有开发者使用相同的环境配置，减少”环境问题”导致的bug，提高协作效率。</p></li><li><p><strong>清理和维护便利</strong>：开发环境经常需要重置和重建，Docker的容器化特性使得清理和维护变得极其简单，不会污染系统。</p></li><li><p><strong>学习成本可控</strong>：虽然需要学习Docker，但一旦掌握，可以应用到所有服务的部署，学习成本分摊后非常值得。</p></li><li><p><strong>生产环境对接</strong>：使用Docker部署本地环境，可以更好地模拟生产环境的容器化部署，减少开发和生产环境的差异。</p></li></ol><p>因此，<strong>本文选择使用Docker方式部署本地开发环境</strong>，帮助开发者快速、灵活、一致地搭建基础服务环境。</p><p>本文将详细介绍如何在Windows环境下使用Docker部署MySQL、Redis、Elasticsearch和Nginx等常用基础服务，提供完整的部署步骤和配置说明。</p><h1><span id="实现"><span id="inline-blue">实现</span></span></h1><h2><span id="mysql"><span id="inline-blue">MySQL</span></span></h2><p>MySQL部署常用版本分为5.7和8.0，两个版本部署方式分别介绍如下：</p><h3><span id="mysql-57"><span id="inline-blue">MySQL-5.7</span></span></h3><p>在部署MySQL 5.7之前，需要先在Windows系统上创建对应的目录用于数据持久化：</p><ul><li><p><code>D:/dockerVolume/mysql7/conf/</code> - 配置文件目录</p></li><li><p><code>D:/dockerVolume/mysql7/data</code> - 数据存储目录</p></li><li><p><code>D:/dockerVolume/mysql7/log</code> - 日志目录</p><p>执行以下命令启动MySQL 5.7容器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run -v D:/dockerVolume/mysql7/conf/:/etc/mysql/mysql.conf.d \</span><br><span class="line">  -v D:/dockerVolume/mysql7/data:/var/lib/mysql \</span><br><span class="line">  -v D:/dockerVolume/mysql7/<span class="built_in">log</span>:/var/<span class="built_in">log</span>/mysql \</span><br><span class="line">  --name mysql5.7 \</span><br><span class="line">  -e MYSQL_ROOT_PASSWORD=coship \</span><br><span class="line">  -p 3307:3306 \</span><br><span class="line">  -d mysql:5.7.41</span><br></pre></td></tr></table></figure></li></ul><p><strong>参数说明：</strong></p><ul><li><code>-v D:/dockerVolume/mysql7/conf/:/etc/mysql/mysql.conf.d</code> - 挂载配置文件目录</li><li><code>-v D:/dockerVolume/mysql7/data:/var/lib/mysql</code> - 挂载数据目录，实现数据持久化</li><li><code>-v D:/dockerVolume/mysql7/log:/var/log/mysql</code> - 挂载日志目录</li><li><code>--name mysql5.7</code> - 容器名称</li><li><code>-e MYSQL_ROOT_PASSWORD=coship</code> - 设置root用户密码</li><li><code>-p 3307:3306</code> - 端口映射，将容器3306端口映射到主机3307端口</li><li><code>-d</code> - 后台运行</li></ul><p><strong>配置文件位置：</strong></p><p>MySQL 5.7的配置文件位于 <code>D:/dockerVolume/mysql7/conf/</code> 目录下，可根据需要进行自定义配置。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"> #</span><span class="bash"> Copyright (c) 2017, Oracle and/or its affiliates. All rights reserved.</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash"><span class="comment"># This program is free software; you can redistribute it and/or modify</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> it under the terms of the GNU General Public License as published by</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> the Free Software Foundation; version 2 of the License.</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash"><span class="comment"># This program is distributed in the hope that it will be useful,</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> but WITHOUT ANY WARRANTY; without even the implied warranty of</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> GNU General Public License <span class="keyword">for</span> more details.</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash"><span class="comment"># You should have received a copy of the GNU General Public License</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> along with this program; <span class="keyword">if</span> not, write to the Free Software</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301 USA</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash"><span class="comment"># The MySQL  Server configuration file.</span></span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="bash"><span class="comment"># For explanations see</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> http://dev.mysql.com/doc/mysql/en/server-system-variables.html</span></span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">设置mysql客户端默认字符集</span></span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">pid-file        = /var/run/mysqld/mysqld.pid</span><br><span class="line">socket          = /var/run/mysqld/mysqld.sock</span><br><span class="line">datadir         = /var/lib/mysql</span><br><span class="line">secure-file-priv= NULL</span><br><span class="line"><span class="meta">#</span><span class="bash"> Disabling symbolic-links is recommended to prevent assorted security risks</span></span><br><span class="line">symbolic-links=0</span><br><span class="line"></span><br><span class="line">sql_mode=&quot;NO_ENGINE_SUBSTITUTION&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash">服务端使用的字符集默认为8比特编码的latin1字符集</span></span><br><span class="line">character_set_server = utf8</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">创建新表时将使用的默认存储引擎</span></span><br><span class="line">default-storage-engine=INNODB</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">设置不区分大小写</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 必须在安装好MySQL后 修改mySQL配置文件设置为不敏感，一旦启动后，再设置是无效的，而且启动报错；</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果已经晚了，那必须把MySQL数据库文件全部 删除，修改配置文件再启动。</span></span><br><span class="line">lower_case_table_names=1</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 错误日志（必须开启）</span></span><br><span class="line">log-error = /var/log/mysql/error.log  </span><br><span class="line"><span class="meta">#</span><span class="bash"> 慢查询日志（可选，需开启）</span></span><br><span class="line">slow_query_log = 1  </span><br><span class="line">slow_query_log_file = /var/log/mysql/slow.log </span><br><span class="line"><span class="meta">#</span><span class="bash"> 超过2秒的查询记录为慢查询</span> </span><br><span class="line">long_query_time = 2  </span><br><span class="line"><span class="meta">#</span><span class="bash"> 二进制日志（可选，需开启）</span></span><br><span class="line">log-bin = /var/lib/mysql/mysql-bin  </span><br><span class="line">binlog_format = ROW  </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3><span id="mysql-80"><span id="inline-blue">MySQL-8.0</span></span></h3><p>MySQL 8.0的部署方式与5.7类似，同样需要创建对应的目录：</p><ul><li><p><code>D:/dockerVolume/mysql8/conf/</code> - 配置文件目录</p></li><li><p><code>D:/dockerVolume/mysql8/data</code> - 数据存储目录</p></li><li><p><code>D:/dockerVolume/mysql8/log</code> - 日志目录</p><p>执行以下命令启动MySQL 8.0容器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run -v D:/dockerVolume/mysql8/conf/:/etc/mysql/conf.d \</span><br><span class="line">  -v D:/dockerVolume/mysql8/data:/var/lib/mysql \</span><br><span class="line">  -v D:/dockerVolume/mysql8/<span class="built_in">log</span>:/var/<span class="built_in">log</span>/mysql \</span><br><span class="line">  --name mysql8 \</span><br><span class="line">  -e MYSQL_ROOT_PASSWORD=coship \</span><br><span class="line">  -p 3308:3306 \</span><br><span class="line">  -d mysql:8.0</span><br></pre></td></tr></table></figure></li></ul><p><strong>参数说明：</strong></p><ul><li><code>-v D:/dockerVolume/mysql8/conf/:/etc/mysql/conf.d</code> - 挂载配置文件目录（8.0版本配置路径与5.7不同）</li><li><code>-v D:/dockerVolume/mysql8/data:/var/lib/mysql</code> - 挂载数据目录</li><li><code>-v D:/dockerVolume/mysql8/log:/var/log/mysql</code> - 挂载日志目录</li><li><code>--name mysql8</code> - 容器名称</li><li><code>-e MYSQL_ROOT_PASSWORD=coship</code> - 设置root用户密码</li><li><code>-p 3308:3306</code> - 端口映射，将容器3306端口映射到主机3308端口（避免与5.7版本冲突）</li><li><code>-d</code> - 后台运行</li></ul><p><strong>配置文件位置：</strong></p><p>MySQL 8.0的配置文件位于 <code>D:/dockerVolume/mysql8/conf/</code> 目录下，可根据需要进行自定义配置。</p><h2><span id="redis"><span id="inline-blue">Redis</span></span></h2><p>Redis部署前需要准备配置文件和数据目录：</p><ul><li><p><code>D:/dockerVolume/redis/data</code> - 数据存储目录</p></li><li><p><code>D:/dockerVolume/redis/conf/redis.conf</code> - Redis配置文件</p><p>执行以下命令启动Redis容器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name redis \</span><br><span class="line">  -p 6379:6379 \</span><br><span class="line">  -v D:/dockerVolume/redis/data:/data \</span><br><span class="line">  -v D:/dockerVolume/redis/conf/redis.conf:/etc/redis/redis.conf \</span><br><span class="line">  redis:5.0.14 \</span><br><span class="line">  redis-server /etc/redis/redis.conf</span><br></pre></td></tr></table></figure></li></ul><p><strong>参数说明：</strong></p><ul><li><code>-d</code> - 后台运行</li><li><code>--name redis</code> - 容器名称</li><li><code>-p 6379:6379</code> - 端口映射，Redis默认端口</li><li><code>-v D:/dockerVolume/redis/data:/data</code> - 挂载数据目录</li><li><code>-v D:/dockerVolume/redis/conf/redis.conf:/etc/redis/redis.conf</code> - 挂载配置文件</li><li><code>redis-server /etc/redis/redis.conf</code> - 使用指定配置文件启动Redis服务</li></ul><p><strong>配置文件位置：</strong></p><p>Redis配置文件位于 <code>D:/dockerVolume/redis/conf/redis.conf</code>，可根据需要进行自定义配置。</p><p><strong>Redis配置文件示例：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br></pre></td><td class="code"><pre><span class="line"># 请使用 redis-server 配置文件路径 来启动redis</span><br><span class="line"></span><br><span class="line"># 请注意一下配置文件的数据单位，大小写不敏感</span><br><span class="line"># 1k &#x3D;&gt; 1000 bytes</span><br><span class="line"># 1kb &#x3D;&gt; 1024 bytes</span><br><span class="line"># 1m &#x3D;&gt; 1000000 bytes</span><br><span class="line"># 1mb &#x3D;&gt; 1024*1024 bytes</span><br><span class="line"># 1g &#x3D;&gt; 1000000000 bytes</span><br><span class="line"># 1gb &#x3D;&gt; 1024*1024*1024 bytes</span><br><span class="line"></span><br><span class="line">################################################################################</span><br><span class="line">#                               redis 的基础配置                                 #</span><br><span class="line">################################################################################</span><br><span class="line"></span><br><span class="line"># 是否作为守护进程运行，生产环境用yes</span><br><span class="line">daemonize no</span><br><span class="line"></span><br><span class="line"># 如果作为守护进程运行的话，redis会把pid打印到这个文件</span><br><span class="line"># 主要多实例的时候需要写成不同的文件</span><br><span class="line">pidfile &#x2F;var&#x2F;run&#x2F;redis_6379.pid</span><br><span class="line"></span><br><span class="line"># redis监听的端口，注意多实例的情况</span><br><span class="line">port 6379</span><br><span class="line"></span><br><span class="line"># 允许访问redis的ip</span><br><span class="line"># 测试环境注释该选项，生产环境把所有允许访问的ip都打一次</span><br><span class="line">bind 0.0.0.0</span><br><span class="line"></span><br><span class="line"># 关闭无消息的客户端的间隔，0为关闭该功能</span><br><span class="line">timeout 0</span><br><span class="line"></span><br><span class="line"># 对客户端发送ACK信息，linux中单位为秒</span><br><span class="line">tcp-keepalive 0</span><br><span class="line"></span><br><span class="line"># 数据库的数量，我们的游戏建议为1，然后多开实例</span><br><span class="line">databases 16</span><br><span class="line"></span><br><span class="line">################################################################################</span><br><span class="line">#                              redis 的持久化配置                                #</span><br><span class="line">################################################################################</span><br><span class="line"></span><br><span class="line"># save 间隔 最小更新操作</span><br><span class="line"># 900秒（15分钟）之后，且至少1次变更</span><br><span class="line"># 300秒（5分钟）之后，且至少10次变更</span><br><span class="line"># 60秒之后，且至少10000次变更</span><br><span class="line"># 如果完全作为缓存开启把save全删了</span><br><span class="line">save 900 1</span><br><span class="line">save 300 10</span><br><span class="line">save 60 10000</span><br><span class="line"></span><br><span class="line"># 持久化失败以后，redis是否停止</span><br><span class="line">stop-writes-on-bgsave-error no</span><br><span class="line"></span><br><span class="line"># 持久化的时候是否运行对字符串对象进行压缩，算法为LZF</span><br><span class="line">rdbcompression yes</span><br><span class="line"></span><br><span class="line"># 文件末尾是否包含一个CRC64的校验和</span><br><span class="line">rdbchecksum yes</span><br><span class="line"></span><br><span class="line"># redis存储数据的文件，注意多实例的时候该不同名字或者用不同的工作目录</span><br><span class="line">dbfilename dump.rdb</span><br><span class="line"></span><br><span class="line"># redis的工作目录，注意多实例的时候该不同名字或者用不同的工作目录</span><br><span class="line"># 建议用不同的工作目录</span><br><span class="line">dir &#x2F;data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">################################################################################</span><br><span class="line">#                                 redis 的限制                                  #</span><br><span class="line">################################################################################</span><br><span class="line"></span><br><span class="line"># 设置最多同时连接客户端数量。</span><br><span class="line"># 默认没有限制，这个关系到Redis进程能够打开的文件描述符数量。</span><br><span class="line"># 特殊值&quot;0&quot;表示没有限制。</span><br><span class="line"># 一旦达到这个限制，Redis会关闭所有新连接并发送错误&quot;达到最大用户数上限（max number of</span><br><span class="line"># clients reached）&quot;</span><br><span class="line">#</span><br><span class="line"># maxclients 128</span><br><span class="line"></span><br><span class="line"># 不要用比设置的上限更多的内存。一旦内存使用达到上限，Redis会根据选定的回收策略</span><br><span class="line">#（参见：maxmemmory-policy）删除key。</span><br><span class="line">#</span><br><span class="line"># 如果因为删除策略问题Redis无法删除key，或者策略设置为 &quot;noeviction&quot;，Redis会回复需要更多内存</span><br><span class="line"># 的错误信息给命令。</span><br><span class="line"># 例如，SET,LPUSH等等。但是会继续合理响应只读命令，比如：GET。</span><br><span class="line">#</span><br><span class="line"># 在使用Redis作为LRU缓存，或者为实例设置了硬性内存限制的时候（使用 &quot;noeviction&quot; 策略）的时候，</span><br><span class="line"># 这个选项还是满有用的。</span><br><span class="line">#</span><br><span class="line"># 警告：当一堆slave连上达到内存上限的实例的时候，响应slave需要的输出缓存所需内存不计算在使用内存</span><br><span class="line"># 当中。</span><br><span class="line"># 这样当请求一个删除掉的key的时候就不会触发网络问题／重新同步的事件，然后slave就会收到一堆删除指</span><br><span class="line"># 令，直到数据库空了为止。</span><br><span class="line">#</span><br><span class="line"># 简而言之，如果你有slave连上一个master的话，那建议你把master内存限制设小点儿，确保有足够的系统</span><br><span class="line"># 内存用作输出缓存。</span><br><span class="line"># （如果策略设置为&quot;noeviction&quot;的话就不无所谓了）</span><br><span class="line">#</span><br><span class="line">maxmemory 1gb</span><br><span class="line"></span><br><span class="line"># 内存策略：如果达到内存限制了，Redis如何删除key。你可以在下面五个策略里面选：</span><br><span class="line">#</span><br><span class="line"># volatile-lru -&gt; 根据LRU算法生成的过期时间来删除。</span><br><span class="line"># allkeys-lru -&gt; 根据LRU算法删除任何key。</span><br><span class="line"># volatile-random -&gt; 根据过期设置来随机删除key。</span><br><span class="line"># allkeys-&gt;random -&gt; 无差别随机删。</span><br><span class="line"># volatile-ttl -&gt; 根据最近过期时间来删除（辅以TTL）</span><br><span class="line"># noeviction -&gt; 谁也不删，直接在写操作时返回错误。</span><br><span class="line">#</span><br><span class="line"># 注意：对所有策略来说，如果Redis找不到合适的可以删除的key都会在写操作时返回一个错误。</span><br><span class="line">#</span><br><span class="line">#     这里涉及的命令：set setnx setex append</span><br><span class="line">#     incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd</span><br><span class="line">#     sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby</span><br><span class="line">#     zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby</span><br><span class="line">#     getset mset msetnx exec sort</span><br><span class="line">#</span><br><span class="line"># 默认值如下：</span><br><span class="line">#</span><br><span class="line"># maxmemory-policy volatile-lru</span><br><span class="line"></span><br><span class="line">maxmemory-policy allkeys-lru</span><br><span class="line"></span><br><span class="line"># LRU和最小TTL算法的实现都不是很精确，但是很接近（为了省内存），所以你可以用样例做测试。</span><br><span class="line"># 例如：默认Redis会检查三个key然后取最旧的那个，你可以通过下面的配置项来设置样本的个数。</span><br><span class="line">#</span><br><span class="line"># maxmemory-samples 3</span><br><span class="line"></span><br><span class="line">################################################################################</span><br><span class="line">#                               redis 的累加模式                                 #</span><br><span class="line">################################################################################</span><br><span class="line"></span><br><span class="line"># 默认情况下，Redis是异步的把数据导出到磁盘上。这种情况下，当Redis挂掉的时候，最新的数据就丢了。</span><br><span class="line"># 如果不希望丢掉任何一条数据的话就该用纯累加模式：一旦开启这个模式，Redis会把每次写入的数据在接收</span><br><span class="line"># 后都写入 appendonly.aof 文件。</span><br><span class="line"># 每次启动时Redis都会把这个文件的数据读入内存里。</span><br><span class="line">#</span><br><span class="line"># 注意，异步导出的数据库文件和纯累加文件可以并存（你得把上面所有&quot;save&quot;设置都注释掉，关掉导出机制）。</span><br><span class="line"># 如果纯累加模式开启了，那么Redis会在启动时载入日志文件而忽略导出的 dump.rdb 文件。</span><br><span class="line">#</span><br><span class="line"># 重要：查看 BGREWRITEAOF 来了解当累加日志文件太大了之后，怎么在后台重新处理这个日志文件。</span><br><span class="line">appendonly yes</span><br><span class="line"></span><br><span class="line"># 纯累加文件名字（默认：&quot;appendonly.aof&quot;）</span><br><span class="line">appendfilename appendonly.aof</span><br><span class="line"></span><br><span class="line"># 纯累加文件的flush频率</span><br><span class="line"># always    -&gt;  每次写入都flush，最安全，资源开销最大</span><br><span class="line"># everysec  -&gt;  每秒 (推荐)</span><br><span class="line"># no        -&gt;  由系统确定</span><br><span class="line"></span><br><span class="line"># appendfsync always</span><br><span class="line">appendfsync everysec</span><br><span class="line"># appendfsync no</span><br><span class="line"></span><br><span class="line"># 当纯累加文件进行rewrite时，是否需要fsync</span><br><span class="line"># 当且仅当appendfsync &#x3D; always || everysec 时该参数生效</span><br><span class="line">no-appendfsync-on-rewrite no</span><br><span class="line"></span><br><span class="line"># 纯累加文件下次rewrite的比例，与纯累加文件文件的最小size</span><br><span class="line"># 下面的参数意味着纯累加文件会在512mb的时候进行一次rewrite</span><br><span class="line"># 若rewrite后的文件大小为x mb，则下次纯累加文件将会在2x mb时rewrite</span><br><span class="line">auto-aof-rewrite-percentage 100</span><br><span class="line">auto-aof-rewrite-min-size 128mb</span><br><span class="line"></span><br><span class="line">################################################################################</span><br><span class="line">#                                redis 的高级配置                                #</span><br><span class="line">################################################################################</span><br><span class="line"></span><br><span class="line"># 如果hash中的数量超出hash-max-ziplist-entries，或者value的长度超出</span><br><span class="line"># hash-max-ziplist-value，将改成保存dict，否则以ziphash的方式存储以节省空间。以下同理。</span><br><span class="line">hash-max-ziplist-entries 64</span><br><span class="line">hash-max-ziplist-value 128</span><br><span class="line"></span><br><span class="line">list-max-ziplist-entries 64</span><br><span class="line">list-max-ziplist-value 128</span><br><span class="line"></span><br><span class="line">set-max-intset-entries 64</span><br><span class="line"></span><br><span class="line">zset-max-ziplist-entries 64</span><br><span class="line">zset-max-ziplist-value 128</span><br><span class="line"></span><br><span class="line"># 是否resize hash? 如果你设置成no需要在源码做一定的修改以防止有人进行hash攻击</span><br><span class="line">activerehashing yes</span><br><span class="line"></span><br><span class="line">################################################################################</span><br><span class="line">#                               redis 的日志配置                                 #</span><br><span class="line">################################################################################</span><br><span class="line"></span><br><span class="line"># 日志等级 debug, verbose, notice, warning。生产环境建议用notice</span><br><span class="line">loglevel notice</span><br><span class="line"></span><br><span class="line"># 日志输出的文件名</span><br><span class="line">logfile &quot;&quot;</span><br><span class="line"></span><br><span class="line"># 是否将日志写入系统日志，默认为no，建议为no</span><br><span class="line">syslog-enabled no</span><br><span class="line"></span><br><span class="line"># 在系统日志中的标识</span><br><span class="line"># syslog-ident redis</span><br><span class="line"></span><br><span class="line"># 写到哪个系统日志中 USER或者LOCAL0-LOCAL7.</span><br><span class="line"># syslog-facility local0</span><br><span class="line"></span><br><span class="line">################################################################################</span><br><span class="line">#                               redis 的主从配置                                 #</span><br><span class="line">################################################################################</span><br><span class="line"></span><br><span class="line"># 主从同步。通过 slaveof 配置来实现Redis实例的备份。本实例作为远程redis的从服务器。</span><br><span class="line"># 注意，这里是本地从远端复制数据。也就是说，本地可以有不同的数据库文件、绑定不同的IP、监听不同的</span><br><span class="line"># 端口。</span><br><span class="line"># 注意如果不在本机的话，需要bind ip</span><br><span class="line">#</span><br><span class="line"># slaveof &lt;masterip&gt; &lt;masterport&gt;</span><br><span class="line"></span><br><span class="line"># 如果master设置了密码（通过下面的 &quot;requirepass&quot; 选项来配置），那么slave在开始同步之前必须</span><br><span class="line"># 进行身份验证，否则它的同步请求会被拒绝。</span><br><span class="line">#</span><br><span class="line"># masterauth &lt;master-password&gt;</span><br><span class="line"></span><br><span class="line"># 当一个slave失去和master的连接，或者同步正在进行中，slave的行为有两种可能：</span><br><span class="line">#</span><br><span class="line"># 1) 如果 slave-serve-stale-data 设置为 &quot;yes&quot; (默认值)，slave会继续响应客户端请求，可能</span><br><span class="line"># 是正常数据，也可能是还没获得值的空数据。</span><br><span class="line"># 2) 如果 slave-serve-stale-data 设置为 &quot;no&quot;，slave会回复&quot;正在从master同步（SYNC with</span><br><span class="line"># master in progress）&quot;来处理各种请求，除了 INFO 和 SLAVEOF 命令。</span><br><span class="line">#</span><br><span class="line"># slave-serve-stale-data yes</span><br><span class="line"></span><br><span class="line"># 从数据库是否只读</span><br><span class="line">#slave-read-only yes</span><br><span class="line"></span><br><span class="line"># slave根据指定的时间间隔向服务器发送ping请求。</span><br><span class="line"># 时间间隔可以通过 repl_ping_slave_period 来设置。</span><br><span class="line"># 默认10秒。</span><br><span class="line">#</span><br><span class="line"># repl-ping-slave-period 10</span><br><span class="line"></span><br><span class="line"># 下面的选项设置了大块数据I&#x2F;O、向master请求数据和ping响应的过期时间。</span><br><span class="line"># 默认值60秒。</span><br><span class="line">#</span><br><span class="line"># 一个很重要的事情是：确保这个值比 repl-ping-slave-period 大，否则master和slave之间的传输</span><br><span class="line"># 过期时间比预想的要短。</span><br><span class="line">#</span><br><span class="line"># repl-timeout 60</span><br><span class="line"></span><br><span class="line"># 主服务器是否将部分数据包合并成一个大的数据包再发出</span><br><span class="line"># 在内网情况请设置为no</span><br><span class="line">#repl-disable-tcp-nodelay no</span><br><span class="line"></span><br><span class="line"># 从服务器的优先级，默认为100。</span><br><span class="line"># 当主服务器挂掉的时候，选择哪个从服务器作为主服务器，优先级数字低的会优先成为主服务器。</span><br><span class="line"># 0代表永远不做主服务器。</span><br><span class="line">#slave-priority 100</span><br><span class="line"></span><br><span class="line"># 对客户端输出缓冲进行限制可以强迫那些就不从服务器读取数据的客户端断开连接。对于normal client，</span><br><span class="line"># 第一个0表示取消hard limit，第二个0和第三个0表示取消soft limit，normal client默认取消限</span><br><span class="line"># 制，因为如果没有寻问，他们是不会接收数据的。</span><br><span class="line">#client-output-buffer-limit normal 0 0 0</span><br><span class="line"># 对于slave client和MONITER client，如果client-output-buffer一旦超过256mb，又或者超过</span><br><span class="line"># 64mb持续60秒，那么服务器就会立即断开客户端连接。</span><br><span class="line">#client-output-buffer-limit slave 256mb 64mb 60</span><br><span class="line"># 对于pubsub client，如果client-output-buffer一旦超过32mb，又或者超过8mb持续60秒，那么</span><br><span class="line"># 服务器就会立即断开客户端连接。</span><br><span class="line">#client-output-buffer-limit pubsub 32mb 8mb 60</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">################################################################################</span><br><span class="line">#                               redis 的安全配置                                 #</span><br><span class="line">################################################################################</span><br><span class="line"></span><br><span class="line"># 要求客户端在处理任何命令时都要验证身份和密码。</span><br><span class="line"># 这在你信不过来访者时很有用。</span><br><span class="line">#</span><br><span class="line"># 为了向后兼容的话，这段应该注释掉。而且大多数人不需要身份验证（例如：它们运行在自己的服务器上。）</span><br><span class="line">#</span><br><span class="line"># 警告：因为Redis太快了，所以居心不良的人可以每秒尝试150k的密码来试图破解密码。</span><br><span class="line"># 这意味着你需要一个高强度的密码，否则破解太容易了。</span><br><span class="line">#</span><br><span class="line">requirepass coshipOk698?</span><br><span class="line"></span><br><span class="line"># 命令重命名</span><br><span class="line"># 当redis至于外网环境的时候需要重命名一些危险的命令如CONFIG:</span><br><span class="line"># rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52</span><br></pre></td></tr></table></figure><h2><span id="elasticsearch"><span id="inline-blue">Elasticsearch</span></span></h2><p>Elasticsearch部署需要先从一个临时容器中拷贝默认配置，然后再启动正式容器。</p><p><strong>步骤1：启动临时容器并拷贝配置</strong></p><p>首先启动一个临时Elasticsearch容器（容器ID示例：0133）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name elasticsearch-temp elasticsearch:8.8.0</span><br></pre></td></tr></table></figure><p>从临时容器中拷贝配置、数据和日志目录到本地：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker cp 0133:/usr/share/elasticsearch/data D:/dockerVolume/elasticsearch/</span><br><span class="line">docker cp 0133:/usr/share/elasticsearch/config D:/dockerVolume/elasticsearch/</span><br><span class="line">docker cp 0133:/usr/share/elasticsearch/logs D:/dockerVolume/elasticsearch/</span><br></pre></td></tr></table></figure><p>拷贝完成后，删除临时容器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm -f elasticsearch-temp</span><br></pre></td></tr></table></figure><p><strong>步骤2：启动正式容器</strong></p><p>执行以下命令启动Elasticsearch容器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run -v D:/dockerVolume/elasticsearch/data/:/usr/share/elasticsearch/data \</span><br><span class="line">  -v D:/dockerVolume/elasticsearch/config/:/usr/share/elasticsearch/config \</span><br><span class="line">  -v D:/dockerVolume/elasticsearch/logs/:/usr/share/elasticsearch/logs \</span><br><span class="line">  --name elasticsearch \</span><br><span class="line">  -p 9200:9200 \</span><br><span class="line">  -p 9300:9300 \</span><br><span class="line">  -d elasticsearch:8.8.0</span><br></pre></td></tr></table></figure><p><strong>参数说明：</strong></p><ul><li><code>-v D:/dockerVolume/elasticsearch/data/:/usr/share/elasticsearch/data</code> - 挂载数据目录</li><li><code>-v D:/dockerVolume/elasticsearch/config/:/usr/share/elasticsearch/config</code> - 挂载配置目录</li><li><code>-v D:/dockerVolume/elasticsearch/logs/:/usr/share/elasticsearch/logs</code> - 挂载日志目录</li><li><code>--name elasticsearch</code> - 容器名称</li><li><code>-p 9200:9200</code> - HTTP API端口映射</li><li><code>-p 9300:9300</code> - 节点间通信端口映射</li><li><code>-d</code> - 后台运行</li></ul><p><strong>配置文件位置：</strong></p><p>Elasticsearch配置文件位于 <code>D:/dockerVolume/elasticsearch/config/</code> 目录下，可根据需要进行自定义配置。</p><p><strong>Elasticsearch配置文件示例：</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"> <span class="attr">cluster.name:</span> <span class="string">&quot;docker-cluster&quot;</span></span><br><span class="line"><span class="attr">network.host:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#----------------------- BEGIN SECURITY AUTO CONFIGURATION -----------------------</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The following settings, TLS certificates, and keys have been automatically      </span></span><br><span class="line"><span class="comment"># generated to configure Elasticsearch security features on 17-10-2025 08:20:43</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># --------------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable security features</span></span><br><span class="line"><span class="attr">xpack.security.enabled:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">xpack.security.enrollment.enabled:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable encryption for HTTP API client connections, such as Kibana, Logstash, and Agents</span></span><br><span class="line"><span class="attr">xpack.security.http.ssl:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">keystore.path:</span> <span class="string">certs/http.p12</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable encryption and mutual authentication between cluster nodes</span></span><br><span class="line"><span class="attr">xpack.security.transport.ssl:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">verification_mode:</span> <span class="string">certificate</span></span><br><span class="line">  <span class="attr">keystore.path:</span> <span class="string">certs/transport.p12</span></span><br><span class="line">  <span class="attr">truststore.path:</span> <span class="string">certs/transport.p12</span></span><br><span class="line"><span class="comment"># Create a new cluster with the current node only</span></span><br><span class="line"><span class="comment"># Additional nodes can still join the cluster later</span></span><br><span class="line"><span class="attr">cluster.initial_master_nodes:</span> [<span class="string">&quot;01334468b92f&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">#----------------------- END SECURITY AUTO CONFIGURATION -------------------------</span></span><br></pre></td></tr></table></figure><h2><span id="nginx"><span id="inline-blue">Nginx</span></span></h2><p>Nginx部署同样需要先从临时容器中拷贝默认配置，然后再启动正式容器。</p><p><strong>步骤1：启动临时容器并拷贝配置</strong></p><p>首先启动一个临时Nginx容器（容器ID示例：a904）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name nginx-temp nginx:1.28-alpine</span><br></pre></td></tr></table></figure><p>从临时容器中拷贝配置、静态资源和日志目录到本地：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker cp a904:/usr/share/nginx/html/ D:/dockerVolume/nginx/</span><br><span class="line">docker cp a904:/etc/nginx/conf.d/ D:/dockerVolume/nginx/</span><br><span class="line">docker cp a904:/var/<span class="built_in">log</span>/nginx/ D:/dockerVolume/nginx/logs/</span><br></pre></td></tr></table></figure><p>拷贝完成后，删除临时容器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm -f nginx-temp</span><br></pre></td></tr></table></figure><p><strong>步骤2：启动正式容器</strong></p><p>执行以下命令启动Nginx容器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run -v D:/dockerVolume/nginx/conf.d/:/etc/nginx/conf.d \</span><br><span class="line">  -v D:/dockerVolume/nginx/html:/usr/share/nginx/html/ \</span><br><span class="line">  -v D:/dockerVolume/nginx/logs:/var/<span class="built_in">log</span>/nginx \</span><br><span class="line">  --name nginx \</span><br><span class="line">  -p 80:80 \</span><br><span class="line">  -d nginx:1.28-alpine</span><br></pre></td></tr></table></figure><p><strong>参数说明：</strong></p><ul><li><code>-v D:/dockerVolume/nginx/conf.d/:/etc/nginx/conf.d</code> - 挂载配置文件目录</li><li><code>-v D:/dockerVolume/nginx/html:/usr/share/nginx/html/</code> - 挂载静态资源目录</li><li><code>-v D:/dockerVolume/nginx/logs:/var/log/nginx</code> - 挂载日志目录</li><li><code>--name nginx</code> - 容器名称</li><li><code>-p 80:80</code> - 端口映射，HTTP默认端口</li><li><code>-d</code> - 后台运行</li></ul><p><strong>配置文件位置：</strong></p><p>Nginx配置文件位于 <code>D:/dockerVolume/nginx/conf.d/</code> 目录下，可根据需要进行自定义配置。</p><h1><span id="参考"><span id="inline-blue">参考</span></span></h1><p>参考：<a href="https://www.cnblogs.com/chen2ha/p/15914157.html">https://www.cnblogs.com/chen2ha/p/15914157.html</a></p></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"><strong>本文作者： </strong>vanishke</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://github.com/vanishke/hexo/Docker/blogs/Docker%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2MySQL%E3%80%81Redis%E3%80%81Nginx%E5%9F%BA%E7%A1%80%E6%9C%8D%E5%8A%A1/" title="Docker本地部署MySQL、Redis、Nginx基础服务">https://github.com/vanishke/hexo/Docker/blogs/Docker本地部署MySQL、Redis、Nginx基础服务/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class="post-tags"><a href="/tags/MySQL/" rel="tag"><i class="fa fa-tag"></i> MySQL</a> <a href="/tags/Nginx/" rel="tag"><i class="fa fa-tag"></i> Nginx</a> <a href="/tags/Redis/" rel="tag"><i class="fa fa-tag"></i> Redis</a> <a href="/tags/Elasticsearch/" rel="tag"><i class="fa fa-tag"></i> Elasticsearch</a></div><div class="post-nav"><div class="post-nav-item"><a href="/markdown/blogs/markdown%E8%BD%AC%E6%8D%A2%E4%B8%BAword%E5%AE%9E%E7%8E%B0/" rel="prev" title="markdown转换为word实现"><i class="fa fa-chevron-left"></i> markdown转换为word实现</a></div><div class="post-nav-item"><a href="/Docker/blogs/Portainer%20CE%E5%8F%AF%E8%A7%86%E5%8C%96Docker%E5%AE%B9%E5%99%A8%E7%AE%A1%E7%90%86%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/" rel="next" title="Portainer CE可视化Docker容器管理使用指南">Portainer CE可视化Docker容器管理使用指南 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments gitalk-container"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">vanishke</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span>站点总字数：</span> <span title="站点总字数">1.6m</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span>站点阅读时长 &asymp;</span> <span title="站点阅读时长">24:42</span></span></div><div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动</div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.11.1/comments.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.11.1/utils.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.11.1/motion.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.11.1/next-boot.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.11.1/bookmark.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.11.1/third-party/search/local-search.min.js"></script><script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.2.7/pdfobject.min.js","integrity":"sha256-ph3Dk89VmuTVXG6x/RDzk53SU9LPdAh1tpv0UvnDZ2I="},"url":"/lib/pdf/web/viewer.html"}</script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.11.1/third-party/tags/pdf.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.11.1/third-party/pace.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.2.0/quicklink.umd.js" integrity="sha256-4kQf9z5ntdQrzsBC3YSHnEz02Z9C1UeW/E9OgnvlzSY=" crossorigin="anonymous"></script><script class="next-config" data-name="quicklink" type="application/json">{"enable":true,"home":true,"archive":true,"delay":true,"timeout":3000,"priority":true,"url":"https://github.com/vanishke/hexo/Docker/blogs/Docker%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2MySQL%E3%80%81Redis%E3%80%81Nginx%E5%9F%BA%E7%A1%80%E6%9C%8D%E5%8A%A1/"}</script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.11.1/third-party/quicklink.min.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.7.2/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous"><script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"vanishke","repo":"blog-comments","client_id":"95db1f51f05191be80c5","client_secret":"eccc0bbe52b90a08e97140cece84ee32577172b2","admin_user":"['vanishke']","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":null,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.7.2/gitalk.min.js","integrity":"sha256-Pmj85ojLaPOWwRtlMJwmezB/Qg8BzvJp5eTzvXaYAfA="},"path_md5":"93831469253e2029add9f0679a29db00"}</script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-theme-next/8.11.1/third-party/comments/gitalk.min.js"></script></body></html>